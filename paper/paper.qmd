---
title: "Factors Influencing Early Childhood Comprehension of American English"
subtitle: "Analyzing the impact of early childhood on English comprehension"
author: 
  - Ziyuan Shen
thanks: "Code and data are available at: [Factors Influencing Early Childhood Comprehension of American English](https://github.com/Serena-SHEN1011/Factors-Influencing-Early-Childhood-Comprehension-of-American-English)."
date: today
date-format: long
abstract: "First sentence. Second sentence. Third sentence. Fourth sentence."
format: pdf
number-sections: true 
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(dplyr)
library(here)
library(ggplot2)
library(modelsummary)
library(rstanarm)
library(arrow)
library(knitr)
library(kableExtra)
library(ggridges)
```


# Introduction

Early childhood language comprehension is a fundamental area of cognitive development that influences future literacy and communication skills. Research has identified several key predictors of language comprehension in young children. For example, a study by Taylor et al.(@Zubrick_Taylor_Christensen_2015) found that socioeconomic factors, family background, and personal characteristics significantly influence early childhood receptive vocabulary development. As highlighted by Lawton et al.(@Lawton5129), the quality and quantity of language exposure in infancy are associated with brain development and long-term language achievement. In addition, Bergelson's study(@Zonarich_2024) showed that babies begin to understand common nouns as early as 6 to 7 months of age, which suggests that comprehension begins earlier than previously thought. Despite these insights, I believe there is still a need for robust research that considers the range of demographic, developmental, and environmental factors that influence the early comprehension of American English learners.

In this paper, my estimand is the number of words comprehended by children learning American English. Our focus is on quantifying how developmental factors such as age, birth order, caregiver influences such as education level, and language context such as monolingual versus bilingual status affect comprehension outcomes. Using Bayesian regression modelling, I assessed the contributions of these predictors and identified the factors that have the greatest impact on early childhood comprehension.

My findings show that developmental factors such as age, production ability of language, and caregiver education are important predictors of young children's level of comprehension. Children with more educated caregivers demonstrated better comprehension, which highlights the role of the home environment in language development. These findings are important because they provide a basis for carefully targeted early childhood interventions, which highlight the areas that need to be supported in order to promote language comprehension. By identifying the most influential factors, this study contributes to a better understanding of early language learning, which is essential for the development of effective educational practices and policies.

The structure of this paper is organized as follows: after this introduction, @sec-data details the dataset used, including the data collection and cleaning processes, and provides an overview of the key variables. @sec-model introduces the regression models employed in the analysis and discusses why these models are suitable for estimating comprehension outcomes. @sec-result presents the results, emphasizing the relationships between different predictors and comprehension. Finally, @sec-discussion concludes the paper by evaluating the implications of the findings, discussing their importance for educational policy, and outlining potential directions for future research.



# Data {#sec-data}

## Data Overview
I used the statistical programming language R [@citeR] to retrieve, simulate, clean, analyze, and test early childhood language comprehension data. The dataset used for this analysis is from the Wordbank database of children’s vocabulary growth [@citedata], specifically focusing on American English children. It contains comprehension and a variety of predictors, which include developmental, demographic, and environmental factors. Following the methodology discussed in “Telling Stories with Data” [@tellingstories], I explore how different predictors affect language comprehension in early childhood. Also, the following packages were used in this study:(Please refer to [Appendix -@sec-data-cleaning] for detailed data processing steps.)

The dataset used in this study provides different data on the language comprehension skills of young children among American English language learners. The dataset consists of 14,826 rows and 22 columns covering a range of early childhood developmental attributes such as comprehension, output and parental education. To ensure the validity of the analysis, I filtered the data to include children whose comprehension assessments and caregiver information were complete, which would ensure a comprehensive, unbiased representation of the target population. This cleaning allowed us to focus on high-quality, well-integrated cases, which provided reliable results in young children's comprehension skills.


## Data Measurement

The Early Childhood Language Development Assessment Measurement Data Set was collected using a standardized instrument such as the Communicative Development Inventory (CDI). Specifically, comprehension and vocabulary data are obtained through parent reports. These CDIs are survey instruments provided to parents or caregivers that allow them to document their child's language skills at specific developmental stages.

For example, let your child learn the meaning of different objects at home. This process naturally occurs through interaction with caregivers and is translated into quantifiable data when parents marked items on the CDI checklist that their child understood or said. The resulting scores become items in our dataset, which reflect each child's language comprehension skills in numerical form.

In the data cleaning process, we prepared the raw election data for analysis by applying transformations, filtering, and restructuring using several R packages, including `dplyr` [@citedplyr], `tidyverse` [@citetidyverse], `arrow` [@citearrow], and `rsample` [@citersample]. The detailed cleaning processes are in [Appendix -@sec-data-cleaning]. 


## Outcome variables

### Comprehension(Number of Words Understand By Children)

The primary outcome variable was the child's comprehension of American English, measured by the number of words the child understood. These data include responses from children of different ages (months) and allow for age-specific and general measures of language comprehension in early development.

```{r}
#| label: fig-comprehension
#| fig-cap: "Distribution of comprehension among children. Each bar represents the count of children who understand a specific range of words, illustrating the varying levels of vocabulary comprehension in the dataset."
#| echo: false
#| warning: false

analysis_data <- read.csv(here::here("data/02-analysis_data/analysis_data.csv"))

ggplot(analysis_data, aes(x = comprehension)) +
  geom_histogram(bins = 30, fill = "skyblue", color = "black") +
  labs(
    title = "Distribution of Comprehension",
    x = "Comprehension",
    y = "Count(Number of Understanding Words)"
  )
```

Using the package ggplot2 [@citeggplot], @fig-comprehension shows the distribution of comprehension, which is the number of words children understand in early childhood. Each bar in the histogram represents the count of children who comprehend a specific range of words.

The histogram shows a right-skewed distribution, with a higher frequency of children having fewer understood words. The count gradually decreases as the number of comprehended words increases, suggesting that most children in the dataset have relatively lower comprehension levels, while fewer children understand a larger vocabulary.


\newpage
## Predictor variables
There are eight predictor variables for my study after cleaning. @tbl-Predictor shows the descriptions of each predictor variable.

```{r}
#| label: tbl-Predictor
#| fig-cap: "Descriptions of Each Predictor Variable"
#| echo: false
#| warning: false

# Create a data frame explaining each variable
variable_summary <- data.frame(
  Variable = c("age", "production", "is_norming", 
               "birth_order", "caregiver_education", "race", "sex", "monolingual"),
  Description = c(
    "The age of the child in months.",
    "The number of words a child can produce.",
    "A binary variable indicating if the child is included in the norming sample (1 = Yes, 0 = No).",
    "The birth order of the child (e.g., 1 = first-born, 2 = second-born).",
    "The education level of the primary caregiver (e.g., Graduate, Some College).",
    "The race of the child (e.g., White, Asian).",
    "The sex of the child (0 = Female, 1 = Male).",
    "A binary variable indicating if the child is monolingual (1 = Yes, 0 = No)."
  )
)

# Display the table in Markdown format
kable(variable_summary, caption = "Variable Descriptions") %>%
  kable_styling(full_width = FALSE, bootstrap_options = c("striped", "hover"))
```



```{r}
#| label: fig-plot1
#| fig-cap: "Ridgeline Plot of Comprehension by Age Group"
#| echo: false
#| warning: false

## Create the age_group variable by binning age into categories
seperate_age_group <- analysis_data %>%
  mutate(age_group = cut(age, breaks = c(0, 10, 15, 20, 25, 30), include.lowest = TRUE))

ggplot(seperate_age_group, aes(x = comprehension, y = age_group, fill = age_group)) +
  geom_density_ridges(alpha = 0.6) +
  labs(
    title = "Ridgeline Plot of Comprehension by Age Group",
    x = "Comprehension",
    y = "Age Group"
  ) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

@fig-plot1 illustrates the relationship between age and comprehension. Each grey point represents an individual observation of comprehension at a specific age, while the blue trend line provides a smoothed estimate of how comprehension changes with age.

The plot shows an upward trend in comprehension as age increases, and especially after about 10 months.There is a clear upward trend after 20 months, which suggests that children's vocabulary comprehension improves dramatically as they grow up. The shaded area around the blue line represents the confidence interval, which is an estimate of the range within which the true trend is likely to occur, taking into account the variability of the data.



```{r}
#| label: fig-plot2
#| fig-cap: "The relationship between age and comprehension in children. The plot includes individual observations represented by grey points, with a blue trend line and shaded confidence interval showing the general trajectory of comprehension as children age."
#| echo: false
#| warning: false
#| 
# Stacked bar chart for Birth Order and Caregiver Education
ggplot(analysis_data, aes(x = factor(birth_order), fill = caregiver_education)) +
  geom_bar(position = "stack") +
  labs(
    title = "Birth Order and Caregiver Education",
    x = "Birth Order",
    y = "Count",
    fill = "Caregiver Education Level"
  ) +
  theme_minimal()
```

```{r}
#| label: fig-box1
#| fig-cap: "comprehension vs. caregiver_education"
#| echo: false
#| warning: false
#comprehension vs. caregiver_education
ggplot(analysis_data, aes(x = caregiver_education, y = comprehension)) +
  geom_boxplot(fill = "lightblue") +
  labs(
    title = "Caregiver Education Level vs Comprehension",
    x = "Caregiver Education Level",
    y = "Comprehension Score"
  ) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```


```{r}
#| label: fig-plot3
#| fig-cap: "Comprehension by Sex"
#| echo: false
#| warning: false

#Comprehension by Sex
ggplot(analysis_data, aes(x = comprehension, fill = as.factor(sex))) +
  geom_area(stat = "bin", alpha = 0.6) +
  labs(
    title = "Comprehension by Sex",
    x = "Comprehension",
    y = "Count",
    fill = "Sex (0 = Female, 1 = Male)"
  )

```

```{r}
#| label: fig-plot4
#| fig-cap: "Comprehension by Sex"
#| echo: false
#| warning: false

#Density Plot of Comprehension by Race
ggplot(analysis_data, aes(x = comprehension, fill = race)) +
  geom_density(alpha = 0.4) +
  labs(
    title = "Density Plot of Comprehension by Race",
    x = "Comprehension",
    y = "Density",
    fill = "Race"
  ) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

```{r}

```


## Predictor variables

Add graphs, tables and text.

Use sub-sub-headings for each outcome variable and feel free to combine a few into one if they go together naturally.







\newpage
# Model

The goal of our modelling strategy is twofold. Firstly,...

Here we briefly describe the Bayesian analysis model used to investigate... Background details and diagnostics are included in [Appendix -@sec-model-details].

## Model set-up

Define $y_i$ as the number of seconds that the plane remained aloft. Then $\beta_i$ is the wing width and $\gamma_i$ is the wing length, both measured in millimeters.  

\begin{align} 
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \alpha + \beta_i + \gamma_i\\
\alpha &\sim \mbox{Normal}(0, 2.5) \\
\beta &\sim \mbox{Normal}(0, 2.5) \\
\gamma &\sim \mbox{Normal}(0, 2.5) \\
\sigma &\sim \mbox{Exponential}(1)
\end{align}

We run the model in R [@citeR] using the `rstanarm` package of @rstanarm. We use the default priors from `rstanarm`.


### Model justification

We expect a positive relationship between the size of the wings and time spent aloft. In particular...

We can use maths by including latex between dollar signs, for instance $\theta$.


# Results

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

first_model <-
  readRDS(file = here::here("models/comprehension_model_bayesian_linear.rds"))
```


#| echo: false
#| eval: true
#| label: tbl-modelresults
#| tbl-cap: "Explanatory models of flight time based on wing width and wing length"
#| warning: false

modelsummary::modelsummary(
  list(
    "First model" = first_model
  ),
  statistic = "mad",
  fmt = 2
)





# Discussion

## First discussion point {#sec-first-point}

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

Please don't use these as sub-heading labels - change them to be what your point actually is.

## Third discussion point

## Weaknesses and next steps

Weaknesses and next steps should also be included.

\newpage

\appendix

# Appendix {-}


# Additional data details

# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows...

In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows... 

```{r}
#| eval: true
#| echo: false
#| message: false
#| warning: false
#| label: fig-ppcheckandposteriorvsprior
#| layout-ncol: 2
#| fig-cap: "Examining how the model fits, and is affected by, the data"
#| fig-subcap: ["Posterior prediction check", "Comparing the posterior with the prior"]

# Posterior predictive checks
pp_check(first_model)
```

## Diagnostics

@fig-stanareyouokay-1 is a trace plot. It shows... This suggests...

@fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests...

```{r}
#| echo: false
#| eval: true
#| message: false
#| warning: false
#| label: fig-stanareyouokay
#| fig-cap: "Checking the convergence of the MCMC algorithm"
#| fig-subcap: ["Trace plot", "Rhat plot"]
#| layout-ncol: 1

plot(first_model, "trace")
```



\newpage


# References


